{% extends "base.html" %}

{% block title %}Search â€” Shabka{% endblock %}

{% block breadcrumbs %}
<nav class="breadcrumbs"><span class="current">Search</span></nav>
{% endblock %}

{% block content %}
<div class="page-header">
  <h1>Search</h1>
</div>

<form action="/search" method="get" style="margin-bottom:1.5rem">
  <div style="display:flex;gap:0.5rem">
    <input type="text" name="q" value="{{ query }}" placeholder="Search memories..."
      style="flex:1;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:0.5rem 0.75rem;border-radius:var(--radius);font-size:0.9rem"
      hx-get="/search" hx-trigger="keyup changed delay:300ms, search" hx-target="#search-results" hx-push-url="true" hx-include="[name='project']"
      autofocus>
    <input type="text" name="project" value="{{ project }}" placeholder="Project filter..."
      style="width:10rem;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:0.5rem 0.75rem;border-radius:var(--radius);font-size:0.9rem">
    <button type="submit" class="btn btn-primary">Search</button>
  </div>
</form>

<div id="search-results">
{% include "partials/search_results.html" %}
</div>
{% endblock %}
